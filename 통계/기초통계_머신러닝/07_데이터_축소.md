# 통계및머신러닝
## 8) 데이터 축소
### 축소
- 데이터 축소 방법에는 Filtering, Sampling, 차원축소가 있다
- 차원의 저주란 데이터 차원이 늘어날수록 공간의 크기는 기하급수적으로 증가하고 밀도는 희박해지기 때문에 필요한 데이터 수도 기하급수적으로 늘어난다
- 표본오차는 모집단을 모두 조사하지 않고 일부의 표본만 조사하기 때문에 발생되는 오차이다
  - 표본크기가 커질수록 작아지며 전수조사시 0이 된다
  - 조사에서 사용한 표본이 모집단의 특성을 그대로 갖기 어려워서 발생한다
- 비표본오차는 무응답오차와 응답오차가 있다
  - 무응답오차는 응답을 거부하는 경우이며 응답오차에는 조사자,면접자,응답자 오차가 있다
  - 조사자오차란 조사자 표본을 잘못 선정하여 잘못 분석한 경우이다
  - 면접자 오차란 능력없는 면접자로 인해 생기는 오차이다
  - 응답자 오차란 응답자의 실수나 무성의한 답변으로 생기는 오차다
- 단순임의추출 이란 전체에 대해 무작위로 추출하여 난수표의 표본개수 만큼 개체를 선택하는 것이다
- 층화추출 이란 분산을 고려하여 해당 모집단의 각 층의 비율만큼 그룹을 임의 선택하는 방법이다
- 계통추출 이란 첫번째 요소는 무작위로 선정하고 목록의 매 k 번째 요소를 표본으로 선정하는 표집 방법이다
  - 표본에 주기성이 있다면 계통추출법은 사용하면 안된다
- 군집/집락 추출이란 군집간 동질성을 띄고 군집내에서는 이질적인 경우 해당 그룹을 모집단의 대표로서 뽑는 것이다
  - 백화점 지점 중 한 곳을 표본으로 고르는 케이스이다

### 데이터 변환
- Pivot 은 행, 열 별 요약된 값으로 정렬해서 분석을 하고자 할 때 사용한다
- Unpivot 은 컬럼 형태로 되어 있는 것을 행 형태로 바꿀 때 사용한다 (wide form -> long form)
- 파생변수란 이미 수집된 변수를 활용해 새로운 변수를 만드는 것으로 특정 함수에 의해 값을 만들어 의미를 부여하는 경우 등이 있다
- 요약변수란 주로 데이터 집계에 쓰이며 데이터 수준을 달리하여 종합하는 경우가 많다
- Normalization (정규화, 표준화) 이란 데이터 속성값이 -1.0~1.0 과 같이 정해진 구간 내에 들도록 하는 기법이다
  - Scale 이 다른 여러 변수에 대해 Scale 을 맞춰 모든 데이터 포인터가 동일한 정도의 중요도로 비교되도록 한다
  - Min-Max Scaling, Standard Z Scaling, Max Absolute Scaling, Robust Scaling 이 있다
- 데이터 분포가 정규가 아닐 경우
  - Positive Skewed (오른쪽 꼬리) 는 SQRT(제곱), log, 역수를 통해 정규분포에 가깝게 변환한다
  - 이외에는 Negative Skewed 를 해결하기 위한 방법으로 보면 된다
  - 종속변수의 증가가 독립변수의 증가보다 급격하면 log 변환을 시도한다
  - 종속변수의 감소가 독립변수의 증가보다 급격하면 square 변환을 시도한다
- Box-Cox 변환은 정규에 맞도록 람다값을 계속 변환하는 방법으로 정규성과 등분산성 문제 해결에 유용하다

### 시계열 데이터
- 시계열 데이터는 동일한 시간 간격으로 수집된 데이터를 말하며 가까운 미래의 예측에 활용한다
- 시계열 데이터 분석에는 정성적 방법과 정량적 방법이 있다
  - 정성적 방법은 사람의 판단 등 주관적인 방법으로 최신 정보를 반영가능하다는 장점이 있으나 Bias 가 존재하는 단점이 있다
  - 정량적 방법은 대량 데이터를 활용하며 객관성과 일관성을 가질 수 있으나 데이터 품질에 절대적으로 좌우되는 단점이 있다
- 데이터 접근방법에는 Metrics 방법과 Events 방법이 있다
  - Metrics 는 일정한 시간 간격으로 수집된 시계열 데이터를 사용하며 자체-투사방법을 사용한다
  - Events 는 불규칙하게 수집된 데이터로 인과 관계 분석, 회귀 분석을 사용해야 한다
- 시계열 데이터의 주요 개념은 하기와 같다
  - Trend : 분석 전에 경향성은 제거하고 나중에 추가 분석한다
  - Serial Dependence : 읹버한 자료 간에 상관성이 없는 것으로 가정하며 분석 전에 통제한다
  - Stationary : 정규의 개념으로 평활화하여 한가지 평균 값을 가진다는 가정이다
  - 시계열 예측 또한 사후평가에서 예측 오차를 줄이는 방향으로 한다
  
### 평활법
- 평활기법은 주요 패턴을 포착하기 위해 불규칙적인 변동들을 없애거나 계절성을 제거하여 근사 함수를 찾고자 하는 기법이다
- 대표적 기법으로는 이동평균법, 가중이동평균법, 지수평활법(단순,이중,삼중)이 있다
  - 단순이동평균법이란 최근 n 개의 관측값을 단순 평균하여 그 값을 예측값으로 추정하는 방법이다
  - 가중이동평균법이란 예측기간에 가까울수록 큰 가중치를 부여하는 것이다
  - 지수평활법이란 평활상수 알파로 지난 구간의 실제 값과 예측 값 사이의 비율을 조절하는 것이다
    - 평활상수는 0보다 크고 1보다 작다
    - 작은 알파를 적용하면 불규칙 변동이 큰 경우로 실제 값을 적게 반영하여 평활을 많이 하는 것이다
    - 큰 알파를 적용하면 불규칙 변동이 작은 경우로 실제 값을 많이 반영하여 평활을 작게 하는 것이다
    - 알파 * 관측치 + (1-알파) * 예측값 이다
    - 지수평활법은 알파가 클수록 실제값을 따라가는데 추세를 뒤늦게 반영하는 현상을 보인다
  - 이중지수평활법이란 단순지수평활에 추세를 더하는 방법이다
  - 삼중지수평활법이란 시계열 데이터가 비정상적이며 추세와 계절성이 있을 경우 사용한다

### 분해법
- 분해법은 경기변동 예측을 위해 탄생한 방법으로 시계열 자료를 체게적 변동과 불규칙 변동으로 나누어 이해하려 한 것이다
- 체계적 변동
  - 추세변동 : 장기적인 증가 혹은 감소 등의 추세로 주로 직선 추세를 사용한다
  - 순환변동 : 추세를 따라 주기적인 오름과 내림의 반복으로 장기적인 변동 추세를 보는 것이다
  - 계절변동 : 계절적 요인이 작동하여 1년 주기로 나타나는 단기적 변동 추세를 보는 것이다
- 불규칙 변동 : 시간에 따라 규칙성 없이 우연적으로 발생하는 변동이다
- 시계열 데이터가 등분산처럼 동일한 경향성일 때는 더하는 방법인 가법을 사용한다(변동 들을 더함)
- 시계열 데이터가 넓어지는 경향성을 보일 때는 곱하는 방법인 승법을 사용한다(변동 들을 곱함)
  - 진폭이 증가하면 승법, 일정하다면 가법 모형이 적합하다
